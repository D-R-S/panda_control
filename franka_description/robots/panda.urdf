<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from panda.urdf.xacro               | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="panda" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <link name="world"/>
  <joint name="panda_joint_world" type="fixed">
    <parent link="world"/>
    <child link="panda_link0"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <!-- LINK 0 -->
  <link name="panda_link0">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/visual/link0.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/collision/link0.stl"/>
      </geometry>
    </collision>
    <inertial>
      <!-- ATTENTION! Copied from git of mkrizmancic -->
      <mass value="2.92"/>
      <origin rpy="0 0 0" xyz="-0.025566 -2.88e-05 0.057332"/>
      <inertia ixx="0.00782229414331" ixy="-1.56191622996e-05" ixz="-0.00126005738123" iyy="0.0109027971813" iyz="1.08233858202e-05" izz="0.0102355503949"/>
    </inertial>
  </link>
  <gazebo reference="panda_link0">
    <material>Gazebo/White</material>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
    <maxVel>0.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <!-- LINK 1 -->
  <link name="panda_link1">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/visual/link1.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/collision/link1.stl"/>
      </geometry>
    </collision>
    <inertial>
      <!-- ATTENTION! Copied from git of mkrizmancic -->
      <mass value="2.74"/>
      <origin rpy="0 0 0" xyz="0 -0.0324958 -0.0675818"/>
      <inertia ixx="0.0180416958283" ixy="0.0" ixz="0.0" iyy="0.0159136071891" iyz="0.0046758424612" izz="0.00620690827127"/>
    </inertial>
  </link>
  <gazebo reference="panda_link1">
    <material>Gazebo/White</material>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
    <maxVel>0.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <joint name="panda_joint1" type="revolute">
    <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-2.8973" soft_upper_limit="2.8973"/>
    <origin rpy="0 0 0" xyz="0 0 0.333"/>
    <parent link="panda_link0"/>
    <child link="panda_link1"/>
    <axis xyz="0 0 1"/>
    <limit effort="87" lower="-2.8973" upper="2.8973" velocity="2.1750"/>
    <dynamics damping="0.5" friction="1.0"/>
  </joint>
  <transmission name="panda_transmission1">
    <robotNamespace>/</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="panda_joint1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="panda_motor1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- LINK 2 -->
  <link name="panda_link2">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/visual/link2.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/collision/link2.stl"/>
      </geometry>
    </collision>
    <inertial>
      <!-- ATTENTION! Copied from git of mkrizmancic -->
      <mass value="2.74"/>
      <origin rpy="0 0 0" xyz="0 -0.06861 0.0322285"/>
      <inertia ixx="0.0182856182281" ixy="0.0" ixz="0.0" iyy="0.00621358421175" iyz="-0.00472844221905" izz="0.0161514346309"/>
    </inertial>
  </link>
  <gazebo reference="panda_link2">
    <material>Gazebo/White</material>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
    <maxVel>0.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <joint name="panda_joint2" type="revolute">
    <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-1.7628" soft_upper_limit="1.7628"/>
    <origin rpy="-1.57079632679 0 0" xyz="0 0 0"/>
    <parent link="panda_link1"/>
    <child link="panda_link2"/>
    <axis xyz="0 0 1"/>
    <limit effort="87" lower="-1.7628" upper="1.7628" velocity="2.1750"/>
    <dynamics damping="0.5" friction="1.0"/>
  </joint>
  <transmission name="panda_transmission2">
    <robotNamespace>/</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="panda_joint2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="panda_motor2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- LINK 3 -->
  <link name="panda_link3">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/visual/link3.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/collision/link3.stl"/>
      </geometry>
    </collision>
    <inertial>
      <!-- ATTENTION! Copied from git of mkrizmancic -->
      <mass value="2.38"/>
      <origin rpy="0 0 0" xyz="0.0469893 0.0316374 -0.031704"/>
      <inertia ixx="0.00771376630908" ixy="-0.00248490625138" ixz="-0.00332147581033" iyy="0.00989108008727" iyz="-0.00217796151484" izz="0.00811723558464"/>
    </inertial>
  </link>
  <gazebo reference="panda_link3">
    <material>Gazebo/White</material>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
    <maxVel>0.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <joint name="panda_joint3" type="revolute">
    <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-2.8973" soft_upper_limit="2.8973"/>
    <origin rpy="1.57079632679 0 0" xyz="0 -0.316 0"/>
    <parent link="panda_link2"/>
    <child link="panda_link3"/>
    <axis xyz="0 0 1"/>
    <limit effort="87" lower="-2.8973" upper="2.8973" velocity="2.1750"/>
    <dynamics damping="0.5" friction="1.0"/>
  </joint>
  <transmission name="panda_transmission3">
    <robotNamespace>/</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="panda_joint3">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="panda_motor3">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- LINK 4 -->
  <link name="panda_link4">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/visual/link4.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/collision/link4.stl"/>
      </geometry>
    </collision>
    <inertial>
      <!-- ATTENTION! Copied from git of mkrizmancic -->
      <mass value="2.38"/>
      <origin rpy="0 0 0" xyz="-0.0360446 0.0336853 0.031882"/>
      <inertia ixx="0.00799663881132" ixy="0.00347095570217" ixz="-0.00241222942995" iyy="0.00825390705278" iyz="0.00235774044121" izz="0.0102515004345"/>
    </inertial>
  </link>
  <gazebo reference="panda_link4">
    <material>Gazebo/White</material>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
    <maxVel>0.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <joint name="panda_joint4" type="revolute">
    <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-3.0718" soft_upper_limit="-0.0698"/>
    <origin rpy="1.57079632679 0 0" xyz="0.0825 0 0"/>
    <parent link="panda_link3"/>
    <child link="panda_link4"/>
    <axis xyz="0 0 1"/>
    <limit effort="87" lower="-3.0718" upper="-0.0698" velocity="2.1750"/>
    <dynamics damping="0.5" friction="1.0"/>
  </joint>
  <transmission name="panda_transmission4">
    <robotNamespace>/</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="panda_joint4">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="panda_motor4">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- LINK 5 -->
  <link name="panda_link5">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/visual/link5.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/collision/link5.stl"/>
      </geometry>
    </collision>
    <inertial>
      <!-- ATTENTION! Copied from git of mkrizmancic -->
      <mass value="2.74"/>
      <origin rpy="0 0 0" xyz="0 0.0610427 -0.104176"/>
      <inertia ixx="0.030371374513" ixy="6.50283587108e-07" ixz="-1.05129179916e-05" iyy="0.0288752887402" iyz="-0.00775653445787" izz="0.00444134056164"/>
    </inertial>
  </link>
  <gazebo reference="panda_link5">
    <material>Gazebo/White</material>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
    <maxVel>0.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <joint name="panda_joint5" type="revolute">
    <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-2.8973" soft_upper_limit="2.8973"/>
    <origin rpy="-1.57079632679 0 0" xyz="-0.0825 0.384 0"/>
    <parent link="panda_link4"/>
    <child link="panda_link5"/>
    <axis xyz="0 0 1"/>
    <limit effort="12" lower="-2.8973" upper="2.8973" velocity="2.6100"/>
    <dynamics damping="0.5" friction="1.0"/>
  </joint>
  <transmission name="panda_transmission5">
    <robotNamespace>/</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="panda_joint5">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="panda_motor5">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- LINK 6 -->
  <link name="panda_link6">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/visual/link6.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/collision/link6.stl"/>
      </geometry>
    </collision>
    <inertial>
      <!-- ATTENTION! Copied from git of mkrizmancic -->
      <mass value="1.55"/>
      <origin rpy="0 0 0" xyz="0.0510509 0.009108 0.0106343"/>
      <inertia ixx="0.00303336450376" ixy="-0.000437276865508" ixz="0.000629257294877" iyy="0.00404479911567" iyz="0.000130472021025" izz="0.00558234286039"/>
    </inertial>
  </link>
  <gazebo reference="panda_link6">
    <material>Gazebo/White</material>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
    <maxVel>0.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <joint name="panda_joint6" type="revolute">
    <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-0.0175" soft_upper_limit="3.7525"/>
    <origin rpy="1.57079632679 0 0" xyz="0 0 0"/>
    <parent link="panda_link5"/>
    <child link="panda_link6"/>
    <axis xyz="0 0 1"/>
    <limit effort="12" lower="-0.0175" upper="3.7525" velocity="2.6100"/>
    <dynamics damping="0.5" friction="1.0"/>
  </joint>
  <transmission name="panda_transmission6">
    <robotNamespace>/</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="panda_joint6">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="panda_motor6">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- LINK 7 -->
  <link name="panda_link7">
    <visual>
      <origin xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/visual/link7.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/collision/link7.stl"/>
      </geometry>
    </collision>
    <inertial>
      <!-- ATTENTION! Copied from git of mkrizmancic -->
      <mass value="0.54"/>
      <origin rpy="0 0 0" xyz="0.0109695 0.0107965 0.0650411"/>
      <inertia ixx="0.000888868887021" ixy="-0.00012239074652" ixz="3.98699829666e-05" iyy="0.000888001373233" iyz="-9.33825115206e-05" izz="0.0007176834609"/>
    </inertial>
  </link>
  <gazebo reference="panda_link7">
    <material>Gazebo/White</material>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
    <maxVel>0.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <joint name="panda_joint7" type="revolute">
    <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-2.8973" soft_upper_limit="2.8973"/>
    <origin rpy="1.57079632679 0 0" xyz="0.088 0 0"/>
    <parent link="panda_link6"/>
    <child link="panda_link7"/>
    <axis xyz="0 0 1"/>
    <limit effort="12" lower="-2.8973" upper="2.8973" velocity="2.6100"/>
    <dynamics damping="0.5" friction="1.0"/>
  </joint>
  <transmission name="panda_transmission7">
    <robotNamespace>/</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="panda_joint7">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="panda_motor7">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- LINK 8 (ROBOT FLANGE / EEF Link for CTRL) -->
  <link name="panda_link8"/>
  <joint name="panda_joint8" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.107"/>
    <!-- z=0.107 IS THE ROBOT FLANGE. add +0.1025 to be the gripper TCP (if hand is connected to link7 instead of 8) -->
    <parent link="panda_link7"/>
    <child link="panda_link8"/>
    <axis xyz="0 0 0"/>
  </joint>
  <joint name="panda_hand_joint" type="fixed">
    <parent link="panda_link8"/>
    <child link="panda_hand"/>
    <origin rpy="0 0 -0.785398163397" xyz="0 0 0"/>
  </joint>
    <gazebo reference="${arm_id}_link8">
      <material>Gazebo/White</material>
      <kp>1000000.0</kp>
      <kd>1.0</kd>
      <mu1>0.8</mu1>
      <mu2>0.8</mu2>
      <maxVel>0.0</maxVel>
      <minDepth>0.001</minDepth>
    </gazebo>
<!-- LINK 9 (EEF Link for CTRL) now: rotated s.t. same in IIWA (due to image coordinate system)-->
    <link name="${arm_id}_link9"/>
    <joint name="${arm_id}_joint9" type="fixed">
      <origin rpy="0 0 0.78539816339" xyz="0 0 ${0.1025}"/> 
      <parent link="${arm_id}_link8"/>
      <child link="${arm_id}_link9"/>
      <axis xyz="0 0 0"/>
    </joint>
    <gazebo reference="${arm_id}_link9">
      <material>Gazebo/White</material>
      <kp>1000000.0</kp>
      <kd>1.0</kd>
      <mu1>0.8</mu1>
      <mu2>0.8</mu2>
      <maxVel>0.0</maxVel>
      <minDepth>0.001</minDepth>
    </gazebo>
  <!-- Link HAND -->
  <link name="panda_hand">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/visual/hand.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/collision/hand.stl"/>
      </geometry>
    </collision>
    <inertial>
      <!-- ATTENTION! Mass taken from ERDAL and inertia (scaled by mass) from mkrizmancic git! -->
      <origin rpy="0 0 0" xyz="0 0.0015244 0.0275912"/>
      <mass value="0.67893"/>
      <inertia ixx="0.00259072461603935959" ixy="0" ixz="0" iyy="0.00037201954518969459" iyz="0" izz="0.00238442114987670904"/>
    </inertial>
  </link>
  <gazebo reference="panda_hand">
    <material>Gazebo/White</material>
  </gazebo>
  <link name="panda_leftfinger">
    <visual>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/visual/finger.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/collision/finger.stl"/>
      </geometry>
      <contact_coefficient k_d="1" k_p="100" mu="10.0"/>
    </collision>
    <inertial>
      <!-- ATTENTION! Mass taken from ERDAL -->
      <origin rpy="0 0 0" xyz="0 0 0.02"/>
      <mass value="0.01053"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
  </link>
  <link name="panda_rightfinger">
    <visual>
      <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/visual/finger.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/franka/collision/finger.stl"/>
      </geometry>
      <contact_coefficient k_d="1" k_p="100" mu="10.0"/>
    </collision>
    <inertial>
      <!-- ATTENTION! Mass taken from ERDAL -->
      <origin rpy="0 0 0" xyz="0 0 0.02"/>
      <mass value="0.01053"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
  </link>
  <joint name="panda_finger_joint1" type="prismatic">
    <parent link="panda_hand"/>
    <child link="panda_leftfinger"/>
    <origin rpy="0 0 0" xyz="0 0 0.0584"/>
    <axis xyz="0 1 0"/>
    <limit effort="20" lower="0.0" upper="0.06" velocity="0.2"/>
    <dynamics damping="1" friction="0"/>
  </joint>
  <transmission name="panda_finger_transmission1">
    <robotNamespace>/</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="panda_finger_joint1">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="panda_finger_motor1">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <joint name="panda_finger_joint2" type="prismatic">
    <parent link="panda_hand"/>
    <child link="panda_rightfinger"/>
    <origin rpy="0 0 0" xyz="0 0 0.0584"/>
    <axis xyz="0 -1 0"/>
    <limit effort="20" lower="0.0" upper="0.06" velocity="0.2"/>
    <dynamics damping="1" friction="0"/>
    <!-- <mimic joint="${ns}_finger_joint1" /> -->
    <!-- GAZEBO DOES NOT SUPPORT MIMIC JOINTS... -->
  </joint>
  <transmission name="panda_finger_transmission2">
    <robotNamespace>/</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="panda_finger_joint2">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="panda_finger_motor2">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <link name="panda_tcp"/>
  <joint name="panda_hand_tcp_joint" type="fixed">
    <parent link="panda_hand"/>
    <child link="panda_tcp"/>
    <origin rpy="0 0 0" xyz="0 0 0.1025"/>
  </joint>
  <material name="Red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <gazebo reference="panda_tcp">
    <material>Gazebo/Red</material>
  </gazebo>
  <gazebo reference="panda_leftfinger">
    <material>Gazebo/Black</material>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <mu1>10.0</mu1>
    <mu2>10.0</mu2>
    <minDepth>0.001</minDepth>
  </gazebo>
  <gazebo reference="panda_rightfinger">
    <material>Gazebo/Black</material>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <mu1>10.0</mu1>
    <mu2>10.0</mu2>
    <minDepth>0.001</minDepth>
  </gazebo>
  <gazebo reference="panda_finger_joint1">
    <implicitSpringDamper>1</implicitSpringDamper>
  </gazebo>
  <gazebo reference="panda_finger_joint2">
    <implicitSpringDamper>1</implicitSpringDamper>
  </gazebo>
  <!-- Adding the Camera -->
  <!-- joint between panda and the camera adopter -->
  <joint name="tool_adopter_joint" type="fixed">
    <parent link="panda_hand"/>
    <child link="adopter_link"/>
    <origin rpy="0 0 3.14159265359" xyz="0.063 0.03 0.0"/>
  </joint>
  <link name="adopter_link">
    <inertial>
      <mass value="0.2"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/camera_holder/Panda_RealSenseD435_Camera_Mount.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- joint between panda and a camera -->
  <joint name="tool_camera_joint" type="fixed">
    <parent link="panda_hand"/>
    <child link="camera_link"/>
    <origin rpy="1.57079632679 -1.57079632679 1.57079632679" xyz="0.0665 -0.0192 0.0595"/>
  </joint>
  <link name="camera_link">
    <inertial>
      <mass value="0.2"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <origin rpy="1.57079632679 0 1.57079632679" xyz="0.0006 -0.01931 -0.01638"/>
      <geometry>
        <mesh filename="package://franka_description/meshes/realsense_415/Intel_RealSense_Depth_Camera_D415.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 1.57079632679" xyz="-0.0094 -0.01931 -0.01638"/>
      <geometry>
        <box size="0.099 0.023 0.02"/>
      </geometry>
    </collision>
  </link>
  <material name="Black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <!-- Adding the camera to gazebo -->
  <!-- camera adopter -->
  <gazebo reference="adopter_link">
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- camera -->
  <gazebo reference="camera_link">
    <sensor name="camera" type="depth">
      <update_rate>20</update_rate>
      <camera>
        <!-- <horizontal_fov>1.591740278</horizontal_fov> -->
        <!-- For realsense D435 - 91.2 degrees -->
        <!-- <horizontal_fov>1.211258501</horizontal_fov> -->
        <!-- For realsense D415 - 69.4 degrees -->
        <!-- <horizontal_fov>1.19646466766</horizontal_fov> -->
        <!--  For realsense D415 specific camera - 68.5523757935 degrees -->
        <horizontal_fov>1.184618483</horizontal_fov>
        <!--  For realsense D415 specific camera after reducing 1 percent - 67.8736394 degrees -->
        <image>
          <width>1280</width>
          <height>720</height>
          <format>R8G8B8</format>
        </image>
        <clip>
          <near>0.05</near>
          <far>3</far>
        </clip>
      </camera>
      <plugin filename="libgazebo_ros_openni_kinect.so" name="camera_plugin">
        <baseline>0.2</baseline>
        <alwaysOn>true</alwaysOn>
        <!-- Keep this zero, update_rate in the parent <sensor> tag
              will control the frame rate. -->
        <updateRate>0.0</updateRate>
        <cameraName>camera_ir</cameraName>
        <imageTopicName>/camera/rgb_image</imageTopicName>
        <cameraInfoTopicName>/camera/rgb_camera_info</cameraInfoTopicName>
        <depthImageTopicName>/camera/depth_image</depthImageTopicName>
        <depthImageInfoTopicName>/camera/depth_camera_info</depthImageInfoTopicName>
        <pointCloudTopicName>/camera/points</pointCloudTopicName>
        <frameName>camera_ir</frameName>
        <pointCloudCutoff>0.05</pointCloudCutoff>
        <distortionK1>0</distortionK1>
        <distortionK2>0</distortionK2>
        <distortionK3>0</distortionK3>
        <distortionT1>0</distortionT1>
        <distortionT2>0</distortionT2>
        <CxPrime>0</CxPrime>
        <Cx>0</Cx>
        <Cy>0</Cy>
        <focalLength>0</focalLength>
        <hackBaseline>0</hackBaseline>
      </plugin>
    </sensor>
  </gazebo>
  <!-- Load gripper plugin. This plugin fixes an object which is grasped to the
         robot hand to avoid problems with physics engines and to help the object
         stay in the robot hand without slipping out -->
  <gazebo>
    <plugin filename="libgazebo_grasp_fix.so" name="gazebo_grasp_fix">
      <arm>
        <arm_name>gripper</arm_name>
        <palm_link>panda_link7</palm_link>
        <gripper_link>panda_leftfinger</gripper_link>
        <gripper_link>panda_rightfinger</gripper_link>
      </arm>
      <forces_angle_tolerance>90</forces_angle_tolerance>
      <update_rate>25</update_rate>
      <grip_count_threshold>4</grip_count_threshold>
      <max_grip_count>8</max_grip_count>
      <release_tolerance>0.001</release_tolerance>
      <disable_collisions_on_attach>false</disable_collisions_on_attach>
      <contact_topic>__default_topic__</contact_topic>
    </plugin>
  </gazebo>
  <!-- original:  rpy="0 0 ${-pi/4} xyz= 0 0 0 connected_to="panda_link8"; if method2 applied (link8 = TCP) then connected to the link7 and translated to the flange z = 0.107 (formerly the link8 origin) -->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
      <robotNamespace>/</robotNamespace>
    </plugin>
  </gazebo>
</robot>
